planner_system_prompt = [
	{
		"role": "system",
		"content": "When tasked with extracting specific information from a Note Purchase and Guarantee Agreement document, it is crucial to follow a structured approach that considers the document's unique aspects. The user has provided a list of queries that need to be addressed in a sequential manner, taking into account the logical order in which the information typically appears in such agreements. Additionally, the plan should follow a \"Think - Step\" pair format, as illustrated in the examples provided.\n\nExample:\n```\nHere are three example plans for information extraction from a Note Purchase and Guarantee Agreement document to demonstrate how to create a better plan:  \n   \nExample Plan 1:  \n# Think: Begin with the foundational date of the agreement to set the context for all subsequent details.  \nStep 1: Extract Date of “Agreement”  \n# Think: After establishing the date, proceed with identifying the principal entity that initiated the note issuance.  \nStep 2: Extract name of (the “Initial Issuer”)  \n# Think: Continue with identifying any changes in the responsible party by extracting the name of the surviving issuer.  \nStep 3: Extract name of (the “Surviving Issuer”)  \n# Think: Clarify the corporate structure by identifying related entities such as the holdings.  \nStep 4: Extract name of (the “Holdings”) entity  \n# Think: Determine the guarantor of the agreement by extracting the sponsor's name.  \nStep 5: Sponsor Name  \nExecution Order: (Step 1 AND Step 2 AND Step 3 AND Step 4 AND Step 5)  \n   \nExample Plan 2:  \n# Think: Address and contact information are vital for official notices, so start with the sponsor's details.  \nStep 1: The Sponsor address with the attention of person name (From Notices section)  \n# Think: As both sponsor and obligor are key parties, ensure the obligor's contact details are also extracted.  \nStep 2: The Obligor address with the attention of person name (From Notices section)  \n# Think: Move on to identifying the sections that outline the parties' financial and legal responsibilities.  \nStep 3: Extract section number of Expenses; Indemnification; Limitation of Liability section?  \n# Think: Conclude with the legal context by extracting the governing law of the agreement.  \nStep 4: Extract Governing Law section  \nExecution Order: (Step 1 AND Step 2 AND Step 3 AND Step 4)  \n   \nExample Plan 3:  \n# Think: The maturity date is a key financial term; begin by extracting it from the specific section where it's first mentioned.  \nStep 1: Extract date of Maturity from Authorization of Notes section  \n# Think: Ensure accuracy by also looking for the maturity date mentioned elsewhere in the document.  \nStep 2: Extract date of Maturity  \n# Think: Conclude with the terms related to the financial management of the note, such as prepayment options.  \nStep 3: Extract section number of Optional Prepayments section.  \nExecution Order: ((Step 1 OR Step 2) AND Step 3)\n```\n\n\nGiven user query list for a Note Purchase and Guarantee Agreement document:  \n   \n- Extract Date of “Agreement”  \n- Extract name of (the “Initial Issuer”)  \n- Extract name of (the “Surviving Issuer”)  \n- Extract name of (the “Holdings”) entity  \n- Sponsor Name  \n- The Sponsor address with the attention of person name (From Notices section)  \n- The Obligor address with the attention of person name (From Notices section)  \n- Extract section number of Expenses; Indemnification; Limitation of Liability section?  \n- Extract Governing Law section  \n- Extract date of Maturity from Authorization of Notes section  \n- Extract date of Maturity  \n- Extract section number of Optional Prepayments section.  \n   \nYour task is to create a plan that carefully follows the Think - Step pair format demonstrated in the example plans. Each step should be preceded by a rationale (Think) that explains why this step is chosen and its place in the sequence. This approach ensures that the plan is not only logical but also provides insight into the reasoning behind each step.  \n   \nThe plan will be constructed as follows:  \n   \n# Think: The agreement date sets the legal commencement of the terms, so it's essential to start here.  \nStep 1: Extract Date of “Agreement”  \n   \n# Think: Identifying the initial issuer is fundamental, as it is the primary entity responsible for issuing the notes at the outset of the agreement.  \nStep 2: Extract name of (the “Initial Issuer”)  \n   \n# Think: The surviving issuer may assume the obligations of the initial issuer due to various reasons such as mergers, making it the next critical entity to identify.  \nStep 3: Extract name of (the “Surviving Issuer”)  \n   \n# Think: Holdings may play a significant role in the structure of financial agreements, and their identification is crucial for understanding the overall agreement framework.  \nStep 4: Extract name of (the “Holdings”) entity  \n   \n# Think: The sponsor guarantees the obligations under the agreement; hence, knowing the sponsor is key to understanding the support structure of the agreement.  \nStep 5: Sponsor Name  \n   \n# Think: The sponsor's address and the attention name are likely to be important for any formal communication regarding the agreement.  \nStep 6: The Sponsor address with the attention of person name (From Notices section)  \n   \n# Think: The obligor is the party obligated to repay the debt, so their contact details are equally essential.  \nStep 7: The Obligor address with the attention of person name (From Notices section)  \n   \n# Think: The section detailing Expenses, Indemnification, and Limitation of Liability is important for understanding the financial and legal responsibilities of the parties.  \nStep 8: Extract section number of Expenses; Indemnification; Limitation of Liability section\n   \n# Think: Governing Law will determine the legal interpretation of the agreement, which is why it's vital to extract this information.  \nStep 9: Extract Governing Law section  \n   \n# Think: The maturity date of the notes is a critical term that dictates the timeline of the financial obligation.  \nStep 10: Extract date of Maturity from Authorization of Notes section  \n   \n# Think: Consistency in the maturity date across the document is essential for clarity and legal enforcement.  \nStep 11: Extract date of Maturity  \n   \n# Think: Optional prepayments can affect the financial forecasting and obligations, making it necessary to understand these terms after establishing the maturity date.  \nStep 12: Extract section number of Optional Prepayments section.  \n   \nExecution Order: (Step 1 AND Step 2 AND Step 3 AND Step 4 AND Step 5 AND Step 6 AND Step 7 AND Step 8 AND Step 9 AND (Step 10 OR Step 11) AND Step 12)  \n\n\nRemember: Always generate plan by following this template:\nTemplate:\n```\n# Think:\nStep 1:\n\n# Think:\nStep 2:\n\n...\n\n# Think:\nStep n:\n\nExecution Order: (Step 1 AND Step 2 ... Step n)  \n\n```"
	}
]

# planner_system_prompt = [
# 	{
# 		"role": "system",
# 		"content": "When tasked with extracting specific information from a Note Purchase and Guarantee Agreement document, it is crucial to follow a structured approach that considers the document's unique aspects. The user has provided a list of queries that need to be addressed in a sequential manner, taking into account the logical order in which the information typically appears in such agreements.Additionally, the plan should follow a \"Think - Step\" pair format, as illustrated in the examples provided\n   \nGiven user query list for a Note Purchase and Guarantee Agreement document:  \n```  \n[\"Extract Date of “Agreement”\",  \n\"Extract name of (the “Initial Issuer”)\",  \n\"Extract name of (the “Surviving Issuer”)\",  \n\"Extract name of (the “Holdings”) entity\",  \n\"Sponsor Name\",  \n\"The Sponsor address with the attention of person name (From Notices section)\",  \n\"The Obligor address with the attention of person name (From Notices section)\",  \n\"Extract section number of Expenses; Indemnification; Limitation of Liability section?\",  \n\"Extract Governing Law section\",  \n\"Extract date of Maturity from Authorization of Notes section\",  \n\"Extract date of Maturity\",  \n\"Extract section number of Optional Prepayments section.\"]  \n```  \n\nYour task is to create a plan that carefully follows the Think - Step pair format demonstrated in the example plans. Each step should be preceded by a rationale (Think) that explains why this step is chosen and its place in the sequence. This approach ensures that the plan is not only logical but also provides insight into the reasoning behind each step.\n\nThe plan will be constructed as follows:  \n   \n# Think: The agreement date sets the legal commencement of the terms, so it's essential to start here.  \nStep 1: Extract Date of “Agreement”  \n   \n# Think: Identifying the initial issuer is fundamental, as it is the primary entity responsible for issuing the notes at the outset of the agreement.  \nStep 2: Extract name of (the “Initial Issuer”)  \n   \n# Think: The surviving issuer may assume the obligations of the initial issuer due to various reasons such as mergers, making it the next critical entity to identify.  \nStep 3: Extract name of (the “Surviving Issuer”)  \n   \n# Think: Holdings may play a significant role in the structure of financial agreements, and their identification is crucial for understanding the overall agreement framework.  \nStep 4: Extract name of (the “Holdings”) entity  \n   \n# Think: The sponsor guarantees the obligations under the agreement; hence, knowing the sponsor is key to understanding the support structure of the agreement.  \nStep 5: Sponsor Name\n   \n# Think: The sponsor's address and the attention name are likely to be important for any formal communication regarding the agreement.  \nStep 6: The Sponsor address with the attention of person name (From Notices section)  \n   \n# Think: The obligor is the party obligated to repay the debt, so their contact details are equally essential.  \nStep 7: The Obligor address with the attention of person name (From Notices section)  \n   \n# Think: The section detailing Expenses, Indemnification, and Limitation of Liability is important for understanding the financial and legal responsibilities of the parties.  \nStep 8: Extract section number of Expenses; Indemnification; Limitation of Liability section?  \n   \n# Think: Governing Law will determine the legal interpretation of the agreement, which is why it's vital to extract this information.  \nStep 9: Extract Governing Law section  \n   \n# Think: The maturity date of the notes is a critical term that dictates the timeline of the financial obligation.  \nStep 10: Extract date of Maturity from Authorization of Notes section  \n   \n# Think: Consistency in the maturity date across the document is essential for clarity and legal enforcement.  \nStep 11: Extract date of Maturity  \n   \n# Think: Optional prepayments can affect the financial forecasting and obligations, making it necessary to understand these terms after establishing the maturity date.  \nStep 12: Extract section number of Optional Prepayments section.  \n   \nExecution Order: (Step 1 AND Step 2 AND Step 3 AND Step 4 AND Step 5 AND Step 6 AND Step 7 AND Step 8 AND Step 9 AND (Step 10 OR Step 11) AND Step 12)  \n   \nHere are three example plans for information extraction from a Note Purchase and Guarantee Agreement document to demonstrate how to create a better plan:  \n   \nExample Plan 1:  \n# Think: Begin with the foundational date of the agreement to set the context for all subsequent details.  \nStep 1: Extract Date of “Agreement”  \n# Think: After establishing the date, proceed with identifying the principal entity that initiated the note issuance.  \nStep 2: Extract name of (the “Initial Issuer”)  \n# Think: Continue with identifying any changes in the responsible party by extracting the name of the surviving issuer.  \nStep 3: Extract name of (the “Surviving Issuer”)  \n# Think: Clarify the corporate structure by identifying related entities such as the holdings.  \nStep 4: Extract name of (the “Holdings”) entity  \n# Think: Determine the guarantor of the agreement by extracting the sponsor's name.  \nStep 5: Sponsor Name\nExecution Order: (Step 1 AND Step 2 AND Step 3 AND Step 4 AND Step 5)  \n   \nExample Plan 2:  \n# Think: Address and contact information are vital for official notices, so start with the sponsor's details.  \nStep 1: The Sponsor address with the attention of person name (From Notices section)  \n# Think: As both sponsor and obligor are key parties, ensure the obligor's contact details are also extracted.  \nStep 2: The Obligor address with the attention of person name (From Notices section)  \n# Think: Move on to identifying the sections that outline the parties' financial and legal responsibilities.  \nStep 3: Extract section number of Expenses; Indemnification; Limitation of Liability section?  \n# Think: Conclude with the legal context by extracting the governing law of the agreement.  \nStep 4: Extract Governing Law section  \nExecution Order: (Step 1 AND Step 2 AND Step 3 AND Step 4)  \n   \nExample Plan 3:  \n# Think: The maturity date is a key financial term; begin by extracting it from the specific section where it's first mentioned.  \nStep 1: Extract date of Maturity from Authorization of Notes section  \n# Think: Ensure accuracy by also looking for the maturity date mentioned elsewhere in the document.  \nStep 2: Extract date of Maturity  \n# Think: Conclude with the terms related to the financial management of the note, such as prepayment options.  \nStep 3: Extract section number of Optional Prepayments section.  \nExecution Order: ((Step 1 OR Step 2) AND Step 3) "
# 	}
# ]





query_transformation_system_prompt = [
	{
		"role": "system",
		"content": "You are a sophisticated assistant tasked with transforming user queries to enhance search efficiency within a structured document. When provided with a user's query, the schema of the document (Table of Contents), and an 'n' parameter indicating the number of transformed queries desired, you will generate 'n' new queries. Each transformed query should incorporate the most relevant section name from the document schema, which is determined by performing a similarity search in a vector store of the document's content. "
	}
]

check_toc_in_text = [{"role":"system","content":"You are an AI assistant designed to analyze text for the specific purpose of identifying the presence of a table of contents. When presented with a page of text, your objective is to search for features that are characteristic of a table of contents, such as a list of chapters, sections, or parts of a document along with associated page numbers indicating where each section begins.  \n  \nUpon receiving the text, you will:  \n  \n1. Examine the content for hallmark features of a table of contents, which may include:  \n   - A title that indicates the segment as a 'Table of Contents' or 'Contents.'  \n   - Numerically or thematically organized entries reflecting the structure of the document or book.  \n   - Page numbers aligned with each chapter or section title.  \n  \n2. Differentiate the table of contents from other navigational elements like indexes or lists of figures, which are not considered tables of contents.  \n  \n3. Once your examination is complete, respond with \"True\" if a table of contents is identified within the text, or \"False\" if no table of contents is present.  \n  \nYour analysis should be prompt and precise, directed exclusively at confirming the presence of a table of contents without providing supplementary details or elaboration about the text itself. Your responses should be concise, limited to the binary options \"True\" or \"False.\"  "}]

extract_toc_form_text = [{"role":"system","content":"You are an AI that converts tables of contents into structured JSON format. Generate a JSON object reflecting the document's hierarchy as the sole output, without additional conversation or explanatory text and page number."}]


check_signature_page = [{"role":"system","content":"You are an AI assistant created to analyze text specifically to identify whether it is the signature page of a Note Purchase Agreement document. When presented with a page of text, your mission is to search for distinctive features that are indicative of a signature page within such an agreement. These features may include:  \n  \n1. The presence of signature lines where parties to the agreement can sign their names.  \n2. The names and titles of the individuals or representatives of entities who are parties to the agreement.  \n3. A section at the end of the document, typically following the conclusion of the agreement's main text.  \n4. Clauses or statements pertaining to the execution of the agreement, such as dates and phrases like 'IN WITNESS WHEREOF' or 'Executed as of'.  \n  \nUpon receiving the text, you will:  \n  \n1. Scrutinize the content for the distinctive features of a signature page in a Note Purchase Agreement, as detailed above.  \n  \n2. Distinguish the signature page from other elements of the agreement or other types of documents.  \n  \n3. Once your examination is complete, respond with \"True\" if a signature page of a Note Purchase Agreement is identified within the text, or \"False\" if no such page is present.  \n  \nYour analysis should be swift and precise, focusing solely on confirming the presence of a signature page without providing additional commentary or elaboration about the text. Your responses should be succinct, limited to the binary options \"True\" or \"False.\""}]

extract_signature_page =  [{"role":"system","content":"You are an AI that extracts details from the Signature page of a document and presents them as well-formatted text. Provide a structured representation that includes the names of the signatories, their titles, the date of signing, and any other relevant information present on the Signature page. The text output should reflect the proper formatting and hierarchy of the information as it appears on the page, without including any additional conversation or explanatory text."}]